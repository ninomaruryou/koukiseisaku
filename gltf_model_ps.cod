//
// Generated by Microsoft (R) HLSL Shader Compiler 10.1
//
//
// Buffer Definitions: 
//
// cbuffer PRIMITIVE_CONSTANT_BUFFER
// {
//
//   row_major float4x4 world;          // Offset:    0 Size:    64 [unused]
//   int material;                      // Offset:   64 Size:     4
//   bool has_tangent;                  // Offset:   68 Size:     4
//   int skin;                          // Offset:   72 Size:     4 [unused]
//   int pad;                           // Offset:   76 Size:     4 [unused]
//
// }
//
// cbuffer SCENE_CONSTANT_BUFFER
// {
//
//   row_major float4x4 view_projection;// Offset:    0 Size:    64 [unused]
//   float4 light_direction;            // Offset:   64 Size:    16
//   float4 camera_position;            // Offset:   80 Size:    16
//   row_major float4x4 light_view_projection;// Offset:   96 Size:    64
//
// }
//
// Resource bind info for materials
// {
//
//   struct material_constants
//   {
//       
//       float3 emissive_factor;        // Offset:    0
//       int alpha_mode;                // Offset:   12
//       float alpha_cutoff;            // Offset:   16
//       bool double_sided;             // Offset:   20
//       
//       struct pbr_metallic_roughness
//       {
//           
//           float4 basecolor_factor;   // Offset:   24
//           
//           struct texture_info
//           {
//               
//               int index;             // Offset:   40
//               int texcoord;          // Offset:   44
//
//           } basecolor_texture;       // Offset:   40
//           float metallic_factor;     // Offset:   48
//           float roughness_factor;    // Offset:   52
//           
//           struct texture_info
//           {
//               
//               int index;             // Offset:   56
//               int texcoord;          // Offset:   60
//
//           } metallic_roughness_texture;// Offset:   56
//
//       } pbr_metallic_roughness;      // Offset:   24
//       
//       struct normal_texture_info
//       {
//           
//           int index;                 // Offset:   64
//           int texcoord;              // Offset:   68
//           float scale;               // Offset:   72
//
//       } normal_texture;              // Offset:   64
//       
//       struct occlusion_texture_info
//       {
//           
//           int index;                 // Offset:   76
//           int texcoord;              // Offset:   80
//           float strength;            // Offset:   84
//
//       } occlusion_texture;           // Offset:   76
//       
//       struct texture_info
//       {
//           
//           int index;                 // Offset:   88
//           int texcoord;              // Offset:   92
//
//       } emissive_texture;            // Offset:   88
//
//   } $Element;                        // Offset:    0 Size:    96
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim      HLSL Bind  Count
// ------------------------------ ---------- ------- ----------- -------------- ------
// sampler_states[1]                 sampler      NA          NA             s1      1 
// sampler_states[2]                 sampler      NA          NA             s2      1 
// comparison_sampler_state        sampler_c      NA          NA             s5      1 
// materials                         texture  struct         r/o             t0      1 
// material_textures[0]              texture  float4          2d             t1      1 
// material_textures[1]              texture  float4          2d             t2      1 
// material_textures[2]              texture  float4          2d             t3      1 
// material_textures[4]              texture  float4          2d             t5      1 
// shadow_map                        texture  float4          2d             t8      1 
// diffuse_iem                       texture  float4        cube            t33      1 
// specular_pmrem                    texture  float4        cube            t34      1 
// lut_ggx                           texture  float4          2d            t35      1 
// PRIMITIVE_CONSTANT_BUFFER         cbuffer      NA          NA            cb0      1 
// SCENE_CONSTANT_BUFFER             cbuffer      NA          NA            cb1      1 
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_POSITION              0   xyzw        0      POS   float       
// POSITION                 0   xyzw        1     NONE   float   xyzw
// NORMAL                   0   xyzw        2     NONE   float   xyz 
// TANGENT                  0   xyzw        3     NONE   float   xyzw
// TEXCOORD                 0   xy          4     NONE   float   xy  
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_TARGET                0   xyzw        0   TARGET   float   xyzw
//
ps_5_0
dcl_globalFlags refactoringAllowed | skipOptimization
dcl_constantbuffer CB0[5], immediateIndexed
dcl_constantbuffer CB1[10], immediateIndexed
dcl_sampler s1, mode_default
dcl_sampler s2, mode_default
dcl_sampler s5, mode_comparison
dcl_resource_structured t0, 96
dcl_resource_texture2d (float,float,float,float) t1
dcl_resource_texture2d (float,float,float,float) t2
dcl_resource_texture2d (float,float,float,float) t3
dcl_resource_texture2d (float,float,float,float) t5
dcl_resource_texture2d (float,float,float,float) t8
dcl_resource_texturecube (float,float,float,float) t33
dcl_resource_texturecube (float,float,float,float) t34
dcl_resource_texture2d (float,float,float,float) t35
dcl_input_ps linear v1.xyzw
dcl_input_ps linear v2.xyz
dcl_input_ps linear v3.xyzw
dcl_input_ps linear v4.xy
dcl_output o0.xyzw
dcl_temps 14
//
// Initial variable locations:
//   v0.x <- pin.position.x; v0.y <- pin.position.y; v0.z <- pin.position.z; v0.w <- pin.position.w; 
//   v1.x <- pin.w_position.x; v1.y <- pin.w_position.y; v1.z <- pin.w_position.z; v1.w <- pin.w_position.w; 
//   v2.x <- pin.w_normal.x; v2.y <- pin.w_normal.y; v2.z <- pin.w_normal.z; v2.w <- pin.w_normal.w; 
//   v3.x <- pin.w_tangent.x; v3.y <- pin.w_tangent.y; v3.z <- pin.w_tangent.z; v3.w <- pin.w_tangent.w; 
//   v4.x <- pin.texcoord.x; v4.y <- pin.texcoord.y; 
//   o0.x <- <main return value>.x; o0.y <- <main return value>.y; o0.z <- <main return value>.z; o0.w <- <main return value>.w
//
#line 96 "C:\Users\2220104\OneDrive - yamaguchigakuen\チEクトップ\真後期制作\x3dgp.00\Shaders\gltf_model_ps.hlsl"
mov r0.x, l(2.200000)  // r0.x <- GAMMA

#line 98
mov r0.y, cb0[4].x
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r1.x, r0.y, l(24), t0.xxxx  // r1.x <- m.pbr_metallic_roughness.basecolor_factor.x
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r1.y, r0.y, l(28), t0.xxxx  // r1.y <- m.pbr_metallic_roughness.basecolor_factor.y
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r1.z, r0.y, l(32), t0.xxxx  // r1.z <- m.pbr_metallic_roughness.basecolor_factor.z
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r0.z, r0.y, l(40), t0.xxxx  // r0.z <- m.pbr_metallic_roughness.basecolor_texture.index
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r0.w, r0.y, l(48), t0.xxxx  // r0.w <- m.pbr_metallic_roughness.metallic_factor
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r2.y, r0.y, l(52), t0.xxxx  // r2.y <- m.pbr_metallic_roughness.roughness_factor
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r1.w, r0.y, l(56), t0.xxxx  // r1.w <- m.pbr_metallic_roughness.metallic_roughness_texture.index
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r2.z, r0.y, l(64), t0.xxxx  // r2.z <- m.normal_texture.index
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r3.x, r0.y, l(72), t0.xxxx  // r3.x <- m.normal_texture.scale
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r2.w, r0.y, l(76), t0.xxxx  // r2.w <- m.occlusion_texture.index
ld_structured_indexable(structured_buffer, stride=96)(mixed,mixed,mixed,mixed) r0.y, r0.y, l(84), t0.xxxx  // r0.y <- m.occlusion_texture.strength

#line 100
mov r1.xyz, r1.xyzx  // r1.x <- basecolor_factor.x; r1.y <- basecolor_factor.y; r1.z <- basecolor_factor.z

#line 101
mov r0.z, r0.z  // r0.z <- basecolor_texture

#line 102
ilt r0.z, l(-1), r0.z
if_nz r0.z

#line 104
  sample_indexable(texture2d)(float,float,float,float) r4.xyz, v4.xyxx, t1.xyzw, s2
  mov r4.xyz, r4.xyzx  // r4.x <- sampled.x; r4.y <- sampled.y; r4.z <- sampled.z

#line 105
  log r4.xyz, r4.xyzx
  mul r4.xyz, r0.xxxx, r4.xyzx
  exp r4.xyz, r4.xyzx

#line 106
  mul r1.xyz, r1.xyzx, r4.xyzx

#line 107
endif 

#line 118
mov r2.y, r2.y  // r2.y <- roughness_factor

#line 119
mov r0.w, r0.w  // r0.w <- metallic_factor

#line 120
mov r1.w, r1.w  // r1.w <- metallic_roughness_texture

#line 121
ilt r0.x, l(-1), r1.w
if_nz r0.x

#line 123
  sample_indexable(texture2d)(float,float,float,float) r0.xz, v4.xyxx, t2.yxzw, s1  // r0.x <- sampled.y; r0.z <- sampled.z

#line 125
  mul r2.y, r0.x, r2.y

#line 126
  mul r0.w, r0.z, r0.w

#line 127
endif 

#line 129
mov r0.x, l(1.000000)  // r0.x <- occlusion_factor

#line 130
mov r2.w, r2.w  // r2.w <- occlusion_texture

#line 131
ilt r0.z, l(-1), r2.w
if_nz r0.z

#line 133
  sample_indexable(texture2d)(float,float,float,float) r0.z, v4.xyxx, t5.yzxw, s1  // r0.z <- sampled.x

#line 134
  mul r0.x, r0.z, r0.x

#line 135
endif 

#line 137
mov r0.y, r0.y  // r0.y <- occlusion_strength

#line 138
mov r4.xyz, l(-0.040000,-0.040000,-0.040000,-0.000000)
add r4.xyz, r1.xyzx, r4.xyzx
mul r4.xyz, r0.wwww, r4.xyzx
add r4.xyz, r4.xyzx, l(0.040000, 0.040000, 0.040000, 0.000000)  // r4.x <- f0.x; r4.y <- f0.y; r4.z <- f0.z

#line 139
mov r5.xyz, l(1.000000,1.000000,1.000000,0)  // r5.x <- f90.x; r5.y <- f90.y; r5.z <- f90.z

#line 140
mul r0.z, r2.y, r2.y  // r0.z <- alpha_roughness

#line 141
mov r6.xyz, -r1.xyzx
add r6.xyz, r6.xyzx, l(0.000000, 0.000000, 0.000000, 0.000000)
mul r6.xyz, r0.wwww, r6.xyzx
add r1.xyz, r1.xyzx, r6.xyzx  // r1.x <- c_diff.x; r1.y <- c_diff.y; r1.z <- c_diff.z

#line 144
mov r6.xyz, -v1.xyzx
add r6.xyz, r6.xyzx, cb1[5].xyzx
dp3 r0.w, r6.xyzx, r6.xyzx
rsq r0.w, r0.w
mul r6.xyz, r0.wwww, r6.xyzx  // r6.x <- V.x; r6.y <- V.y; r6.z <- V.z

#line 146
dp3 r0.w, v2.xyzx, v2.xyzx
rsq r0.w, r0.w
mul r7.xyz, r0.wwww, v2.xyzx  // r7.x <- N.x; r7.y <- N.y; r7.z <- N.z

#line 147
ine r0.w, l(0, 0, 0, 0), cb0[4].y
dp3 r1.w, v3.xyzx, v3.xyzx
rsq r1.w, r1.w
mul r8.xyz, r1.wwww, v3.xyzx
itof r9.xyz, l(1, 0, 0, 0)
movc r8.xyz, r0.wwww, r8.xyzx, r9.xyzx  // r8.x <- T.x; r8.y <- T.y; r8.z <- T.z

#line 148
ine r0.w, l(0, 0, 0, 0), cb0[4].y
movc r0.w, r0.w, v3.w, l(1.000000)  // r0.w <- sigma

#line 149
dp3 r1.w, r7.xyzx, r8.xyzx
mul r9.xyz, r1.wwww, r7.xyzx
mov r9.xyz, -r9.xyzx
add r8.xyz, r8.xyzx, r9.xyzx
dp3 r1.w, r8.xyzx, r8.xyzx
rsq r1.w, r1.w
mul r8.xyz, r1.wwww, r8.xyzx  // r8.x <- T.x; r8.y <- T.y; r8.z <- T.z

#line 150
mul r9.xyz, r7.yzxy, r8.zxyz
mul r10.xyz, r7.zxyz, r8.yzxy
mov r10.xyz, -r10.xyzx
add r9.xyz, r9.xyzx, r10.xyzx
mul r9.xyz, r0.wwww, r9.xyzx
dp3 r0.w, r9.xyzx, r9.xyzx
rsq r0.w, r0.w
mul r9.xyz, r0.wwww, r9.xyzx  // r9.x <- B.x; r9.y <- B.y; r9.z <- B.z

#line 152
mov r2.z, r2.z  // r2.z <- normal_texture

#line 153
ilt r0.w, l(-1), r2.z
if_nz r0.w

#line 155
  sample_indexable(texture2d)(float,float,float,float) r10.xyz, v4.xyxx, t3.xyzw, s1  // r10.x <- sampled.x; r10.y <- sampled.y; r10.z <- sampled.z

#line 156
  mov r10.xyz, r10.xyzx  // r10.x <- normal_factor.x; r10.y <- normal_factor.y; r10.z <- normal_factor.z

#line 157
  mul r10.xyz, r10.xyzx, l(2.000000, 2.000000, 2.000000, 0.000000)
  mov r11.xyz, l(-1.000000,-1.000000,-1.000000,-0.000000)
  add r10.xyz, r10.xyzx, r11.xyzx  // r10.x <- normal_factor.x; r10.y <- normal_factor.y; r10.z <- normal_factor.z

#line 158
  mov r3.z, l(1.000000)
  mul r3.xyz, r3.xxzx, r10.xyzx
  dp3 r0.w, r3.xyzx, r3.xyzx
  rsq r0.w, r0.w
  mul r3.xyz, r0.wwww, r3.xyzx  // r3.x <- normal_factor.x; r3.y <- normal_factor.y; r3.z <- normal_factor.z

#line 159
  mul r8.xyz, r8.xyzx, r3.xxxx
  mul r3.xyw, r9.xyxz, r3.yyyy
  add r3.xyw, r3.xyxw, r8.xyxz
  mul r8.xyz, r7.xyzx, r3.zzzz
  add r3.xyz, r3.xywx, r8.xyzx
  dp3 r0.w, r3.xyzx, r3.xyzx
  rsq r0.w, r0.w
  mul r7.xyz, r0.wwww, r3.xyzx

#line 160
endif 

#line 162
itof r3.xyz, l(0, 0, 0, 0)  // r3.x <- diffuse.x; r3.y <- diffuse.y; r3.z <- diffuse.z

#line 163
itof r8.xyz, l(0, 0, 0, 0)  // r8.x <- specular.x; r8.y <- specular.y; r8.z <- specular.z

#line 166
mov r9.xyz, -cb1[4].xyzx
dp3 r0.w, r9.xyzx, r9.xyzx
rsq r0.w, r0.w
mul r9.xyz, r0.wwww, r9.xyzx  // r9.x <- L.x; r9.y <- L.y; r9.z <- L.z

#line 167
mov r10.xyz, l(1.000000,1.000000,1.000000,0)  // r10.x <- Li.x; r10.y <- Li.y; r10.z <- Li.z

#line 168
dp3 r0.w, r7.xyzx, r9.xyzx
max r0.w, r0.w, l(0.000000)  // r0.w <- NoL

#line 169
dp3 r1.w, r7.xyzx, r6.xyzx
max r1.w, r1.w, l(0.000000)  // r1.w <- NoV

#line 170
lt r2.z, l(0.000000), r0.w
lt r2.w, l(0.000000), r1.w
or r2.z, r2.w, r2.z
if_nz r2.z

#line 173
  add r9.xyz, r6.xyzx, r9.xyzx
  dp3 r2.z, r9.xyzx, r9.xyzx
  rsq r2.z, r2.z
  mul r9.xyz, r2.zzzz, r9.xyzx  // r9.x <- H.x; r9.y <- H.y; r9.z <- H.z

#line 175
  dp3 r2.z, r7.xyzx, r9.xyzx
  max r2.z, r2.z, l(0.000000)  // r2.z <- NoH

#line 176
  dp3 r2.w, r9.xyzx, r6.xyzx
  max r2.w, r2.w, l(0.000000)  // r2.w <- HoV

#line 179
  nop 
  mov r9.xyz, r7.xyzx
  mov r6.xyz, r6.xyzx
  mov r2.y, r2.y
  mov r1.xyz, r1.xyzx
  mov r4.xyz, r4.xyzx

#line 44 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  dp3 r3.w, r9.xyzx, r6.xyzx
  max r3.w, r3.w, l(0.000000)
  min r2.x, r3.w, l(1.000000)  // r2.x <- NoV

#line 46
  max r11.xy, r2.xyxx, l(0.000000, 0.000000, 0.000000, 0.000000)
  min r11.xy, r11.xyxx, l(1.000000, 1.000000, 0.000000, 0.000000)  // r11.x <- brdf_sample_point.x; r11.y <- brdf_sample_point.y

#line 47
  nop 
  mov r11.xy, r11.xyxx

#line 16 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\image_based_lighting.hlsli"
  sample_indexable(texture2d)(float,float,float,float) r11.xy, r11.xyxx, t35.xyzw, s1  // r11.x <- <sample_lut_ggx return value>.x; r11.y <- <sample_lut_ggx return value>.y

#line 47 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  mov r11.xy, r11.xyxx  // r11.x <- f_ab.x; r11.y <- f_ab.y

#line 49
  nop 
  mov r9.xyz, r9.xyzx

#line 35 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\image_based_lighting.hlsli"
  sample_indexable(texturecube)(float,float,float,float) r9.xyz, r9.xyzx, t33.xyzw, s1  // r9.x <- <sample_diffuse_iem return value>.x; r9.y <- <sample_diffuse_iem return value>.y; r9.z <- <sample_diffuse_iem return value>.z

#line 49 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  mov r9.xyz, r9.xyzx  // r9.x <- irradiance.x; r9.y <- irradiance.y; r9.z <- irradiance.z

#line 51
  mov r3.w, -r2.y
  add r3.w, r3.w, l(1.000000)
  max r12.xyz, r4.xyzx, r3.wwww
  mov r13.xyz, -r4.xyzx
  add r12.xyz, r12.xyzx, r13.xyzx  // r12.x <- fr.x; r12.y <- fr.y; r12.z <- fr.z

#line 52
  mov r3.w, -r2.x
  add r3.w, r3.w, l(1.000000)
  mov r4.w, l(1.000000)
  mul r4.w, r3.w, r4.w
  mul r3.w, r3.w, r3.w
  mul r3.w, r3.w, r3.w
  mul r3.w, r3.w, r4.w
  mul r12.xyz, r3.wwww, r12.xyzx
  add r12.xyz, r4.xyzx, r12.xyzx  // r12.x <- k_s.x; r12.y <- k_s.y; r12.z <- k_s.z

#line 53
  mul r12.xyz, r11.xxxx, r12.xyzx
  add r12.xyz, r11.yyyy, r12.xyzx  // r12.x <- fss_ess.x; r12.y <- fss_ess.y; r12.z <- fss_ess.z

#line 55
  add r3.w, r11.y, r11.x
  mov r3.w, -r3.w
  add r3.w, r3.w, l(1.000000)  // r3.w <- ems

#line 56
  mov r11.xyz, -r4.xyzx
  add r11.xyz, r11.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
  div r11.xyz, r11.xyzx, l(21.000000, 21.000000, 21.000000, 0.000000)
  add r11.xyz, r4.xyzx, r11.xyzx  // r11.x <- f_avg.x; r11.y <- f_avg.y; r11.z <- f_avg.z

#line 57
  mul r13.xyz, r12.xyzx, r3.wwww
  mul r13.xyz, r11.xyzx, r13.xyzx
  mul r11.xyz, r3.wwww, r11.xyzx
  mov r11.xyz, -r11.xyzx
  add r11.xyz, r11.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
  div r11.xyz, r13.xyzx, r11.xyzx  // r11.x <- fms_ems.x; r11.y <- fms_ems.y; r11.z <- fms_ems.z

#line 58
  mov r12.xyz, -r12.xyzx
  add r12.xyz, r12.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
  add r12.xyz, r11.xyzx, r12.xyzx
  mul r12.xyz, r1.xyzx, r12.xyzx  // r12.x <- k_d.x; r12.y <- k_d.y; r12.z <- k_d.z

#line 60
  add r11.xyz, r11.xyzx, r12.xyzx
  mul r9.xyz, r9.xyzx, r11.xyzx  // r9.x <- <ibl_radiance_lambertian return value>.x; r9.y <- <ibl_radiance_lambertian return value>.y; r9.z <- <ibl_radiance_lambertian return value>.z

#line 179 "C:\Users\2220104\OneDrive - yamaguchigakuen\チEクトップ\真後期制作\x3dgp.00\Shaders\gltf_model_ps.hlsl"
  add r9.xyz, r3.xyzx, r9.xyzx  // r9.x <- diffuse.x; r9.y <- diffuse.y; r9.z <- diffuse.z

#line 180
  nop 
  mov r7.xyz, r7.xyzx
  mov r6.xyz, r6.xyzx
  mov r2.y, r2.y
  mov r4.xyz, r4.xyzx

#line 64 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  dp3 r3.w, r7.xyzx, r6.xyzx
  max r3.w, r3.w, l(0.000000)
  min r2.x, r3.w, l(1.000000)  // r2.x <- NoV

#line 66
  max r11.xy, r2.xyxx, l(0.000000, 0.000000, 0.000000, 0.000000)
  min r11.xy, r11.xyxx, l(1.000000, 1.000000, 0.000000, 0.000000)  // r11.x <- brdf_sample_point.x; r11.y <- brdf_sample_point.y

#line 67
  nop 
  mov r11.xy, r11.xyxx

#line 16 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\image_based_lighting.hlsli"
  sample_indexable(texture2d)(float,float,float,float) r11.xy, r11.xyxx, t35.xyzw, s1  // r11.x <- <sample_lut_ggx return value>.x; r11.y <- <sample_lut_ggx return value>.y

#line 67 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  mov r11.xy, r11.xyxx  // r11.x <- f_ab.x; r11.y <- f_ab.y

#line 69
  mov r6.xyz, -r6.xyzx
  dp3 r3.w, r6.xyzx, r7.xyzx
  add r3.w, r3.w, r3.w
  mov r3.w, -r3.w
  mul r7.xyz, r3.wwww, r7.xyzx
  add r6.xyz, r6.xyzx, r7.xyzx
  dp3 r3.w, r6.xyzx, r6.xyzx
  rsq r3.w, r3.w
  mul r6.xyz, r3.wwww, r6.xyzx  // r6.x <- R.x; r6.y <- R.y; r6.z <- R.z

#line 70
  nop 
  mov r6.xyz, r6.xyzx
  mov r2.y, r2.y

#line 40 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\image_based_lighting.hlsli"
  resinfo_indexable(texturecube)(float,float,float,float)_uint r3.w, l(0), t34.xyzw  // r3.w <- number_of_levels

#line 42
  mov r4.w, l(1)
  ineg r4.w, r4.w
  iadd r3.w, r3.w, r4.w
  utof r3.w, r3.w
  mul r3.w, r2.y, r3.w  // r3.w <- lod

#line 44
  sample_l_indexable(texturecube)(float,float,float,float) r6.xyz, r6.xyzx, t34.xyzw, s1, r3.w  // r6.x <- <sample_specular_pmrem return value>.x; r6.y <- <sample_specular_pmrem return value>.y; r6.z <- <sample_specular_pmrem return value>.z

#line 70 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  mov r6.xyz, r6.xyzx  // r6.x <- specular_light.x; r6.y <- specular_light.y; r6.z <- specular_light.z

#line 72
  mov r2.y, -r2.y
  add r2.y, r2.y, l(1.000000)
  max r7.xyz, r4.xyzx, r2.yyyy
  mov r12.xyz, -r4.xyzx
  add r7.xyz, r7.xyzx, r12.xyzx  // r7.x <- fr.x; r7.y <- fr.y; r7.z <- fr.z

#line 73
  mov r2.x, -r2.x
  add r2.x, r2.x, l(1.000000)
  mov r2.y, l(1.000000)
  mul r2.y, r2.x, r2.y
  mul r2.x, r2.x, r2.x
  mul r2.x, r2.x, r2.x
  mul r2.x, r2.x, r2.y
  mul r7.xyz, r2.xxxx, r7.xyzx
  add r7.xyz, r4.xyzx, r7.xyzx  // r7.x <- k_s.x; r7.y <- k_s.y; r7.z <- k_s.z

#line 74
  mul r7.xyz, r11.xxxx, r7.xyzx
  add r7.xyz, r11.yyyy, r7.xyzx  // r7.x <- fss_ess.x; r7.y <- fss_ess.y; r7.z <- fss_ess.z

#line 76
  mul r6.xyz, r6.xyzx, r7.xyzx  // r6.x <- <ibl_radiance_ggx return value>.x; r6.y <- <ibl_radiance_ggx return value>.y; r6.z <- <ibl_radiance_ggx return value>.z

#line 180 "C:\Users\2220104\OneDrive - yamaguchigakuen\チEクトップ\真後期制作\x3dgp.00\Shaders\gltf_model_ps.hlsl"
  add r6.xyz, r6.xyzx, r8.xyzx  // r6.x <- specular.x; r6.y <- specular.y; r6.z <- specular.z

#line 182
  mul r7.xyz, r0.wwww, r10.xyzx
  nop 
  mov r11.xyz, r4.xyzx
  mov r12.xyz, r5.xyzx
  mov r1.xyz, r1.xyzx
  mov r2.w, r2.w

#line 29 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  mov r2.x, l(3.141593)  // r2.x <- PI

#line 30
  nop 
  mov r11.xyz, r11.xyzx
  mov r12.xyz, r12.xyzx
  mov r2.w, r2.w

#line 8
  mov r13.xyz, -r11.xyzx
  add r12.xyz, r12.xyzx, r13.xyzx
  mov r2.y, -r2.w
  add r2.y, r2.y, l(1.000000)
  max r2.y, r2.y, l(0.000000)
  min r2.y, r2.y, l(1.000000)
  mov r3.w, l(1.000000)
  mul r3.w, r2.y, r3.w
  mul r2.y, r2.y, r2.y
  mul r2.y, r2.y, r2.y
  mul r2.y, r2.y, r3.w
  mul r12.xyz, r2.yyyy, r12.xyzx
  add r11.xyz, r11.xyzx, r12.xyzx  // r11.x <- <f_schlick return value>.x; r11.y <- <f_schlick return value>.y; r11.z <- <f_schlick return value>.z

#line 30
  mov r11.xyz, -r11.xyzx
  add r11.xyz, r11.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
  div r1.xyz, r1.xyzx, r2.xxxx
  mul r1.xyz, r1.xyzx, r11.xyzx  // r1.x <- <brdf_lambertian return value>.x; r1.y <- <brdf_lambertian return value>.y; r1.z <- <brdf_lambertian return value>.z

#line 182 "C:\Users\2220104\OneDrive - yamaguchigakuen\チEクトップ\真後期制作\x3dgp.00\Shaders\gltf_model_ps.hlsl"
  mul r1.xyz, r1.xyzx, r7.xyzx
  add r3.xyz, r1.xyzx, r9.xyzx  // r3.x <- diffuse.x; r3.y <- diffuse.y; r3.z <- diffuse.z

#line 183
  mul r1.xyz, r0.wwww, r10.xyzx
  nop 
  mov r4.xyz, r4.xyzx
  mov r5.xyz, r5.xyzx
  mov r0.z, r0.z
  mov r2.w, r2.w
  mov r0.w, r0.w
  mov r1.w, r1.w
  mov r2.z, r2.z

#line 35 "C:\Users\2220104\OneDrive - yamaguchigakuen\デスクトップ\真後期制作\x3dgp.00\Shaders\bidirectional_reflectance_distribution_function.hlsli"
  nop 
  mov r4.xyz, r4.xyzx
  mov r5.xyz, r5.xyzx
  mov r2.w, r2.w

#line 8
  mov r7.xyz, -r4.xyzx
  add r5.xyz, r5.xyzx, r7.xyzx
  mov r2.x, -r2.w
  add r2.x, r2.x, l(1.000000)
  max r2.x, r2.x, l(0.000000)
  min r2.x, r2.x, l(1.000000)
  mov r2.y, l(1.000000)
  mul r2.y, r2.x, r2.y
  mul r2.x, r2.x, r2.x
  mul r2.x, r2.x, r2.x
  mul r2.x, r2.x, r2.y
  mul r2.xyw, r2.xxxx, r5.xyxz
  add r2.xyw, r2.xyxw, r4.xyxz  // r2.x <- <f_schlick return value>.x; r2.y <- <f_schlick return value>.y; r2.w <- <f_schlick return value>.z

#line 35
  mov r2.xyw, r2.xyxw  // r2.x <- F.x; r2.y <- F.y; r2.w <- F.z

#line 36
  nop 
  mov r0.w, r0.w
  mov r1.w, r1.w
  mov r0.z, r0.z

#line 12
  mul r3.w, r0.z, r0.z  // r3.w <- alpha_roughness_sq

#line 14
  mul r4.x, r1.w, r1.w
  mov r4.y, -r3.w
  add r4.y, r4.y, l(1.000000)
  mul r4.x, r4.y, r4.x
  add r4.x, r3.w, r4.x
  sqrt r4.x, r4.x
  mul r4.x, r0.w, r4.x  // r4.x <- ggxv

#line 15
  mul r0.w, r0.w, r0.w
  mov r4.y, -r3.w
  add r4.y, r4.y, l(1.000000)
  mul r0.w, r0.w, r4.y
  add r0.w, r3.w, r0.w
  sqrt r0.w, r0.w
  mul r0.w, r0.w, r1.w  // r0.w <- ggxl

#line 17
  add r0.w, r0.w, r4.x  // r0.w <- ggx

#line 18
  lt r1.w, l(0.000000), r0.w
  div r0.w, l(0.500000), r0.w
  movc r0.w, r1.w, r0.w, l(0)  // r0.w <- <v_ggx return value>

#line 36
  mov r0.w, r0.w  // r0.w <- Vis

#line 37
  nop 
  mov r2.z, r2.z
  mov r0.z, r0.z

#line 22
  mov r1.w, l(3.141593)  // r1.w <- PI

#line 23
  mul r0.z, r0.z, r0.z  // r0.z <- alpha_roughness_sq

#line 24
  mul r2.z, r2.z, r2.z
  mov r3.w, l(-1.000000)
  add r3.w, r0.z, r3.w
  mul r2.z, r2.z, r3.w
  add r2.z, r2.z, l(1.000000)  // r2.z <- f

#line 25
  mul r1.w, r1.w, r2.z
  mul r1.w, r2.z, r1.w
  div r0.z, r0.z, r1.w  // r0.z <- <d_ggx return value>

#line 37
  mov r0.z, r0.z  // r0.z <- D

#line 39
  mul r2.xyz, r0.wwww, r2.xywx
  mul r2.xyz, r0.zzzz, r2.xyzx  // r2.x <- <brdf_specular_ggx return value>.x; r2.y <- <brdf_specular_ggx return value>.y; r2.z <- <brdf_specular_ggx return value>.z

#line 183 "C:\Users\2220104\OneDrive - yamaguchigakuen\チEクトップ\真後期制作\x3dgp.00\Shaders\gltf_model_ps.hlsl"
  mul r1.xyz, r1.xyzx, r2.xyzx
  add r8.xyz, r1.xyzx, r6.xyzx  // r8.x <- specular.x; r8.y <- specular.y; r8.z <- specular.z

#line 185
endif 

#line 188
mul r1.xyz, r0.xxxx, r3.xyzx
mov r2.xyz, -r3.xyzx
add r1.xyz, r1.xyzx, r2.xyzx
mul r1.xyz, r0.yyyy, r1.xyzx
add r1.xyz, r1.xyzx, r3.xyzx  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z

#line 189
mul r0.xzw, r0.xxxx, r8.xxyz
mov r2.xyz, -r8.xyzx
add r0.xzw, r0.xxzw, r2.xxyz
mul r0.xyz, r0.xzwx, r0.yyyy
add r0.xyz, r0.xyzx, r8.xyzx  // r0.x <- specular.x; r0.y <- specular.y; r0.z <- specular.z

#line 193
mov r0.w, l(0.001000)  // r0.w <- shadow_depth_bias

#line 199
mul r2.xyzw, v1.xxxx, cb1[6].xyzw
mul r3.xyzw, v1.yyyy, cb1[7].xyzw
add r2.xyzw, r2.xyzw, r3.xyzw
mul r3.xyzw, v1.zzzz, cb1[8].xyzw
add r2.xyzw, r2.xyzw, r3.xyzw
mul r3.xyzw, v1.wwww, cb1[9].xyzw
add r2.xyzw, r2.xyzw, r3.xyzw  // r2.x <- light_view_position.x; r2.y <- light_view_position.y; r2.z <- light_view_position.z; r2.w <- light_view_position.w

#line 200
div r2.xyz, r2.xyzx, r2.wwww

#line 203
mul r1.w, r2.x, l(0.500000)
add r3.x, r1.w, l(0.500000)  // r3.x <- light_view_texcoord.x

#line 204
mul r1.w, r2.y, l(-0.500000)
add r3.y, r1.w, l(0.500000)  // r3.y <- light_view_texcoord.y

#line 205
mov r0.w, -r0.w
add r0.w, r0.w, r2.z
max r0.w, r0.w, l(0.000000)
min r0.w, r0.w, l(1.000000)  // r0.w <- depth

#line 208
sample_c_lz_indexable(texture2d)(float,float,float,float) r2.z, r3.xyxx, t8.xxxx, s5, r0.w
mov r2.xyz, r2.zzzz  // r2.x <- shadow_factor.x; r2.y <- shadow_factor.y; r2.z <- shadow_factor.z

#line 212
add r0.xyz, r0.xyzx, r1.xyzx
mul o0.xyz, r2.xyzx, r0.xyzx
itof o0.w, l(1)
ret 
// Approximately 367 instruction slots used
